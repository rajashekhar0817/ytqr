<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Redirecting...</title>
    <script>
  async function redirectToLatest() {
    try {
      const url = "config.json?cachebust=" + Date.now();
      console.log("Fetching:", url);
      const response = await fetch(url);
      console.log("Response status:", response.status);

      if (!response.ok) {
        throw new Error("HTTP error " + response.status);
      }

      const text = await response.text();
      console.log("Raw response:", text);

      const data = JSON.parse(text);
      console.log("Parsed data:", data);

      if (data && data.video_url) {
        console.log("Redirecting to:", data.video_url);
        window.location.href = data.video_url;
      } else {
        document.body.innerText = "No video_url found in config.json";
      }
    } catch (e) {
      console.error(e);
      document.body.innerText = "Error loading redirect link: " + e.message;
    }
  }

  redirectToLatest();
</script>
  </head>
  <body>
    <p>Redirecting to latest video...</p>
  </body>
</html>
